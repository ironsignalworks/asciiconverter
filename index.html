<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>ASCII CONVERTER — Iron Signal Works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="ascii_logo.png">
  <link rel="apple-touch-icon" href="ascii_logo.png">

  <!-- SEO -->
  <meta name="description" content="DOS-style image → ASCII converter by Iron Signal Works. Live rendering, invert/scanlines/jitter/scramble/3D effects, and crisp TXT/PNG export."/>
  <meta name="keywords" content="ASCII art, ASCII converter, image to text, DOS, retro, Iron Signal Works"/>
  <meta name="author" content="Iron Signal Works"/>
  <meta name="robots" content="index,follow"/>
  <link rel="canonical" href="https://ironsignalworks.github.io/asciiconverter/"/>

  <!-- Open Graph -->
  <meta property="og:title" content="ASCII CONVERTER — Iron Signal Works"/>
  <meta property="og:description" content="Convert images to ASCII with DOS aesthetics. Live rendering + tidy exports."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://ironsignalworks.github.io/asciiconverter/"/>
  <meta property="og:image" content="ascii_logo.png"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="ASCII CONVERTER — Iron Signal Works"/>
  <meta name="twitter:description" content="DOS-style image → ASCII with live effects & exports."/>
  <meta name="twitter:image" content="ascii_logo.png"/>

  <!-- App Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"ASCII Converter",
    "applicationCategory":"MultimediaApplication",
    "operatingSystem":"Any",
    "url":"https://ironsignalworks.github.io/asciiconverter/",
    "creator":{"@type":"Organization","name":"Iron Signal Works"},
    "description":"DOS-style image to ASCII converter with live rendering and tidy exports."
  }
  </script>

  <meta name="theme-color" content="#0b0b0b"/>

  <style>
    :root{
      --scale:.9;
      --bg:#000; --panel:#0b0b0b; --ink:#d0d0d0; --muted:#a0a0a0;
      --border:#3a3a3a; --border-strong:#6a6a6a;
      --mono: ui-monospace,"Cascadia Mono","SFMono-Regular",Menlo,Consolas,"Liberation Mono",monospace;

      --sidew: calc(520px * var(--scale));
      --hsize: calc(18px * var(--scale));
      --base:  calc(17px * var(--scale));
      --ctlH:  calc(50px * var(--scale));
      --pad:   calc(12px * var(--scale));
      --gap:   calc(12px * var(--scale));
    }
    /* Desktop micro downscale ≈ -2% */
    @media (hover:hover) and (pointer:fine) and (min-width: 1024px){
      :root{ --scale:.882; }
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      background:var(--bg); color:var(--ink);
      font:var(--base)/1.4 var(--mono);
      min-height:100dvh;
      max-height:100dvh;
      display:flex; 
      flex-direction:column;
      gap:var(--gap);
      padding:var(--pad);
      overflow:hidden;
    }

    .hdr,.ftr{
      border:2px solid var(--border-strong);
      padding:calc(8px * var(--scale)) var(--pad);
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      gap:var(--gap);
      background:#0b0b0b;
      flex-shrink:0;
    }
    .brand{display:flex; gap:var(--gap); align-items:center; text-decoration:none; color:var(--ink)}
    .brand img{width:calc(34px * var(--scale));height:calc(34px * var(--scale)); image-rendering:pixelated; border:2px solid var(--border)}
    .brand h1{margin:0; font-size:var(--hsize); letter-spacing:.08em; text-transform:uppercase}

    .btn{
      background:#151515; color:#e0e0e0; border:2px solid var(--border-strong);
      padding:calc(10px * var(--scale)) calc(14px * var(--scale));
      cursor:pointer; text-transform:uppercase; letter-spacing:.06em; white-space:nowrap;
      font-size:calc(15px * var(--scale));
      height:var(--ctlH);
    }
    .btn:hover{background:#1d1d1d}

    .workspace{
      display:grid; 
      grid-template-columns:1fr var(--sidew);
      gap:var(--gap);
      flex:1 1 auto;
      min-height:0;
      overflow:hidden;
    }

    .panel{
      border:2px solid var(--border); 
      background:#0b0b0b;
      display:flex; 
      flex-direction:column;
      min-width:0;
      min-height:0;
      overflow:hidden;
    }
    .panel h2{
      margin:0; 
      padding:var(--pad); 
      border-bottom:2px solid var(--border);
      font-size:var(--hsize); 
      color:#e0e0e0; 
      letter-spacing:.06em; 
      text-transform:uppercase;
      flex-shrink:0;
    }
    #out{
      flex:1 1 auto;
      padding:var(--pad); 
      margin:var(--pad);
      background:#0e0e0e; 
      border:2px solid var(--border);
      font-family:monospace; 
      font-size:8px; 
      line-height:8px;
      white-space:pre; 
      word-break:keep-all; 
      overflow-wrap:normal; 
      user-select:text;
      overflow:auto;
      min-width:0; 
      min-height:0;
      contain:content;
      color: var(--out-ink, #d0d0d0);
    }
    #out.anaglyph{ text-shadow:-1px 0 rgba(255,0,0,.55), 1px 0 rgba(0,255,255,.55); }

    .side{ 
      border:2px solid var(--border-strong); 
      background:#0b0b0b; 
      display:flex; 
      flex-direction:column; 
      min-width:0;
      overflow-y:auto;
      overflow-x:hidden;
    }
    .controls{ 
      padding:var(--pad); 
      display:flex; 
      flex-direction:column; 
      gap:var(--gap); 
    }
    .side h2{ 
      margin:0; 
      font-size:var(--hsize); 
      color:#e0e0e0; 
      letter-spacing:.06em; 
      text-transform:uppercase; 
      border-bottom:2px solid var(--border); 
      padding:var(--pad);
      flex-shrink:0;
    }

    .formgrid{ 
      display:grid; 
      grid-template-columns:140px 1fr; 
      gap:var(--gap) calc(14px * var(--scale)); 
      align-items:center; 
      min-width:0; 
    }
    .formgrid .full{ grid-column:1 / -1 }
    .formgrid label{ 
      font-size:calc(15px * var(--scale)); 
      color:var(--muted); 
      white-space:nowrap 
    }

    .ctl{
      background:#121212; 
      color:var(--ink); 
      border:2px solid var(--border);
      height:var(--ctlH); 
      padding:calc(10px * var(--scale)); 
      width:100%; 
      min-width:0; 
      font-size:calc(16px * var(--scale));
    }
    input[type="file"].ctl{ padding:calc(8px * var(--scale)) }
    input[type="color"].ctl{ padding:0; cursor:pointer }

    .toggles{ 
      display:grid; 
      grid-template-columns:repeat(3,1fr); 
      gap:var(--gap); 
      align-items:center; 
      width:100%; 
    }
    .toggle{ 
      display:flex; 
      align-items:center; 
      gap:calc(8px * var(--scale)); 
      font-size:calc(15px * var(--scale)); 
      color:var(--muted); 
      min-width:0 
    }
    .toggle input{ 
      width:calc(20px * var(--scale)); 
      height:calc(20px * var(--scale)); 
      accent-color:#666;
      flex-shrink:0;
    }

    .btnGrid2x2{ 
      display:grid; 
      grid-template-columns:1fr 1fr; 
      grid-auto-rows:1fr; 
      gap:var(--gap); 
    }

    .ftr{ 
      flex-shrink:0;
    }
    .ftr a{ color:#d0d0d0; text-decoration:none }

    /* Stack on tablets/phones */
    @media (max-width: 980px){
      body{ max-height:none; overflow-y:auto; }
      .workspace{ 
        grid-template-columns:1fr; 
        overflow:visible;
      }
      .panel{ max-height:60vh; }
    }
    /* Tiny phones — two-column toggles & smaller ASCII density */
    @media (max-width: 540px){
      .formgrid{ grid-template-columns: 1fr; }
      .toggles{ grid-template-columns: repeat(2,1fr); }
      #out{ font-size:7px; line-height:7px; }
      .panel{ max-height:55vh; }
    }
    @media (max-width:380px){
      #out{ font-size:6px; line-height:6px; }
      .panel{ max-height:50vh; }
    }

    /* Help dialog — centered & scrollable, click-out closes */
    dialog{
      border:2px solid var(--border-strong);
      background:var(--panel);
      color:var(--ink);
      padding:0;
      width:min(92vw, 760px);
      max-width:calc(100vw - 24px);
      max-height:88svh;
      overflow:auto;
      position: fixed;
      inset: 50% auto auto 50%;
      transform: translate(-50%, -50%);
      margin:0;
    }
    dialog::backdrop{ background: rgba(0,0,0,.6); }
    .modal-body{ padding:var(--pad); }
    .modal-body h3{ margin:0 0 8px 0; letter-spacing:.06em; font-size:var(--hsize); text-transform:uppercase }
    /* Center the Close button */
    .modal-close{ display:block; margin:12px auto 0 auto; }
  </style>
</head>
<body>

<header class="hdr">
  <!-- Link changed to ironsignalworks.com -->
  <a class="brand" href="https://ironsignalworks.com/?utm_source=ascii-converter&utm_medium=header-logo&utm_campaign=lab-to-site" target="_blank" rel="noopener">
    <img src="ascii_logo.png" alt="Iron Signal Works logo"/>
    <h1>ASCII CONVERTER // ISW</h1>
  </a>
  <div style="display:flex; gap:calc(10px * var(--scale))">
    <button id="helpBtn" class="btn" aria-haspopup="dialog">HELP</button>
    <button id="shareBtn" class="btn">SHARE</button>
  </div>
</header>

<main class="workspace" aria-label="ASCII Converter">
  <section class="panel" aria-label="ASCII Output">
    <h2>Output</h2>
    <pre id="out" aria-live="polite">[Awaiting image]</pre>
  </section>

  <aside class="side" aria-label="Controls">
    <h2>Operator Controls</h2>
    <div class="controls">
      <div class="formgrid">
        <label for="file">Image</label>
        <input type="file" id="file" accept="image/*" class="ctl"/>

        <label for="mode">Mode</label>
        <select id="mode" class="ctl" aria-label="Render mode">
          <option value="ascii-dense">@ Dense</option>
          <option value="ascii-sparse">@ Sparse</option>
          <option value="blocks">Block Shading (█▓▒░ )</option>
          <option value="binary">Binary (0/1)</option>
          <option value="edges">Edge Map</option>
        </select>

        <label for="ink">Color (Text Ink)</label>
        <input id="ink" type="color" value="#d0d0d0" class="ctl" title="Output & export color"/>

        <div class="full toggles">
          <label class="toggle"><input type="checkbox" id="fit" checked/> Fit to frame</label>
          <label class="toggle"><input type="checkbox" id="invert"/> Invert</label>
          <label class="toggle"><input type="checkbox" id="scanlines"/> Scanlines</label>

          <label class="toggle"><input type="checkbox" id="jitter"/> Jitter</label>
          <label class="toggle"><input type="checkbox" id="scramble"/> Scramble</label>
          <label class="toggle"><input type="checkbox" id="threeD"/> 3D</label>
        </div>

        <div class="full btnGrid2x2" aria-label="Export and Reset">
          <button id="txtBtn" class="btn" disabled>Export .TXT</button>
          <button id="pngBtn" class="btn" disabled>Export .PNG</button>
          <button id="pngBigBtn" class="btn" disabled>PNG (BIG)</button>
          <button id="resetBtn" class="btn" aria-label="Reset all controls">RESET</button>
        </div>
      </div>
    </div>
  </aside>
</main>

<footer class="ftr">
  <div>Built by Iron Signal Works</div>
  <a href="https://ironsignalworks.com#hire?utm_source=ascii-converter&utm_medium=footer-cta&utm_campaign=lab-to-site" target="_blank" rel="noopener">Hire ISW →</a>
</footer>

<!-- Help -->
<dialog id="help" aria-label="Instructions">
  <form method="dialog" class="modal-body">
    <h3>Instructions</h3>
    <p style="margin:8px 0 10px 0;color:#a8a8a8">
      <b>ASCII</b> (American Standard Code for Information Interchange) is the basic set of printable characters
      used by computers. <b>ASCII art</b> maps image brightness to characters so pictures can be displayed as plain text.
      This app samples your image into a grid, picks a character for each cell (based on the selected mode), and renders
      a text version you can copy or export.
    </p>
    <div style="margin:0 0 12px 0">
      <div style="font-weight:700;letter-spacing:.04em;text-transform:uppercase;margin-bottom:6px">Why use it?</div>
      <ul style="margin:0 0 0 18px;padding:0;line-height:1.5">
        <li>Works everywhere text renders: terminals, READMEs, chats, forums.</li>
        <li>Lightweight visuals for low-bandwidth sharing.</li>
        <li>Distinct, retro look for headers, posters, stickers, thumbnails.</li>
        <li>Precise exports (TXT/PNG) with adjustable ink color and size.</li>
      </ul>
    </div>
    <ol style="margin:0 0 8px 18px; padding:0">
      <li>Choose an image.</li>
      <li>Select <b>Mode</b> and <b>Ink</b> (text color).</li>
      <li>Toggles:
        <ul>
          <li><b>Fit to frame</b> – auto size to avoid horizontal scroll.</li>
          <li><b>Invert</b> – invert brightness mapping.</li>
          <li><b>Scanlines</b> – alternating dotted rows.</li>
          <li><b>Jitter</b> – subtle row shifts for grit.</li>
          <li><b>Scramble</b> – block shuffle + micro-jitter preprocess.</li>
          <li><b>3D</b> – anaglyph text shadow effect on output.</li>
        </ul>
      </li>
      <li>Rendering is automatic; export TXT / PNG / PNG (BIG).</li>
    </ol>
    <button value="close" class="btn modal-close">Close</button>
  </form>
</dialog>

<script type="module" src="src/main.js"></script>
</body>
</html>
